{"ast":null,"code":"var _jsxFileName = \"/Users/lauraaupert/Desktop/Dan/OxyMagic/client/src/components/JobsTable/index.js\";\nimport React, { useEffect, useState, useContext } from 'react';\nimport Table from 'react-bootstrap/Table';\nimport api from '../../utils/api';\nimport { Form, Col, Row, Button, Accordion, Card } from 'react-bootstrap';\nimport { CurrCustContext } from '../../utils/currentCustomerContext';\nimport InfoCanvas from '../CustCanvas';\n\nfunction JobsTable() {\n  const [allData, setAllData] = useState([]);\n  const [filteredData, setFilteredData] = useState(allData);\n  const [ID, setID] = useState(\"\");\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => {\n    setShow(true);\n  };\n\n  console.log(allData);\n\n  function sendJobs() {\n    for (let i = 0; i < jobs.length; i++) {}\n  }\n\n  const context = useContext(CurrCustContext);\n\n  const handleSearch = event => {\n    let value = event.target.value;\n    let result = [];\n    console.log(value);\n    result = allData.filter(data => {\n      return data.curr_id.firstName.search(value) !== -1;\n    });\n    console.log(result);\n\n    if (result.length < 1) {\n      let lastNameResult = [];\n      lastNameResult = allData.filter(data => {\n        return data.curr_id.lastName.search(value) !== -1;\n      });\n      result = lastNameResult;\n    }\n\n    if (result.length < 1) {\n      let cityResult = [];\n      cityResult = allData.filter(data => {\n        return data.curr_id.address.city.search(value) !== -1;\n      });\n      result = cityResult;\n    }\n\n    if (result.length < 1) {\n      let countyResult = [];\n      countyResult = allData.filter(data => {\n        return data.curr_id.county.search(value) !== -1;\n      });\n      result = countyResult;\n    }\n\n    if (result.length < 1) {\n      let zipResult = [];\n      zipResult = allData.filter(data => {\n        return data.curr_id.address.zip.toString().search(parseFloat(value)) !== -1;\n      });\n      result = zipResult;\n    }\n\n    if (result.length < 1) {\n      let idResult = [];\n      idResult = allData.filter(data => {\n        return data.customerID.toString().search(parseFloat(value)) !== -1;\n      });\n      result = idResult;\n    }\n\n    if (result.length < 1) {\n      let emailResult = [];\n      emailResult = allData.filter(data => {\n        return data.curr_id.email.search(value) !== -1;\n      });\n      result = emailResult;\n    }\n\n    if (result.length < 1) {\n      let jobIDResult = [];\n      jobIDResult = allData.filter(data => {\n        return data.jobID.toString().search(parseFloat(value)) !== -1;\n      });\n      result = jobIDResult;\n    }\n\n    if (result.length < 1) {\n      let dateResult = [];\n      dateResult = allData.filter(data => {\n        return data.date.search(value) !== -1;\n      });\n      result = dateResult;\n    }\n\n    console.log(result); // }\n\n    setFilteredData(result);\n    context.setCurrJob(result);\n  };\n\n  useEffect(() => {\n    console.log();\n    api.getJobs().then(res => {\n      console.log(res.data);\n      setAllData(res.data);\n      setFilteredData(res.data);\n      console.log(allData);\n    }).catch(error => {\n      console.log('Error getting fake data: ' + error);\n    });\n  }, []);\n  console.log(allData);\n  console.log(filteredData);\n\n  function handleClick(e) {\n    e.preventDefault();\n  }\n\n  useEffect(() => {\n    let customer_id = [];\n    customer_id = allData.filter(data => {\n      return data._id.search(ID) !== -1;\n    });\n    context.setCurrCust(customer_id);\n  }, [ID]); //  console.log(this._id);\n\n  function onDelete(e) {\n    api.deleteProduct();\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: 11,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formBasicEmail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"name\",\n    placeholder: \"Search\",\n    onChange: event => handleSearch(event) // onChange={(e) => setSearch(e.target.value)} value={search} \n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 5\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    lg: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    type: \"submit\",\n    onClick: handleClick,\n    block: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 3\n    }\n  }, \"Search\")))), filteredData.length > 0 ? /*#__PURE__*/React.createElement(Table, {\n    striped: true,\n    bordered: true,\n    hover: true,\n    size: \"sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 5\n    }\n  }, \"JobID\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }\n  }, \"Customer ID\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }\n  }, \"Customer Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }\n  }, \"County\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }\n  }, \"Day\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }\n  }, \"Products\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }\n  }, \"Total\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 3\n    }\n  }, filteredData.map(data => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: data._id // onLoad={setID(data._id)} \n      ,\n      value: data._id,\n      onClick: e => setID(data._id),\n      style: {\n        cursor: \"pointer\"\n      } // onClick={handleRowClick}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 13\n      }\n    }, data.jobID), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 13\n      }\n    }, data.curr_id.customerID), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 13\n      }\n    }, data.curr_id.lastName, \", \", data.curr_id.firstName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 13\n      }\n    }, data.curr_id.county), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 13\n      }\n    }, data.date), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(InfoCanvas, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 16\n      }\n    }))) // </tr>\n    //       {/* </Accordion.Header>\n    //       </Accordion.Item>\n    //       </Accordion> */}\n    // //   : <tr></tr>\n    ;\n  }))) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 1\n    }\n  }, \"Please register this new customer.\")));\n}\n\nexport default JobsTable;","map":{"version":3,"sources":["/Users/lauraaupert/Desktop/Dan/OxyMagic/client/src/components/JobsTable/index.js"],"names":["React","useEffect","useState","useContext","Table","api","Form","Col","Row","Button","Accordion","Card","CurrCustContext","InfoCanvas","JobsTable","allData","setAllData","filteredData","setFilteredData","ID","setID","show","setShow","handleClose","handleShow","console","log","sendJobs","i","jobs","length","context","handleSearch","event","value","target","result","filter","data","curr_id","firstName","search","lastNameResult","lastName","cityResult","address","city","countyResult","county","zipResult","zip","toString","parseFloat","idResult","customerID","emailResult","email","jobIDResult","jobID","dateResult","date","setCurrJob","getJobs","then","res","catch","error","handleClick","e","preventDefault","customer_id","_id","setCurrCust","onDelete","deleteProduct","map","cursor"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,OAAOC,GAAP,MAAiB,iBAAjB;AACA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,GAApB,EAAyBC,MAAzB,EAAiCC,SAAjC,EAA4CC,IAA5C,QAAwD,iBAAxD;AACA,SAASC,eAAT,QAAgC,oCAAhC;AACA,OAAOC,UAAP,MAAuB,eAAvB;;AAGA,SAASC,SAAT,GAAqB;AACjB,QAAM,CAACC,OAAD,EAASC,UAAT,IAAuBd,QAAQ,CAAC,EAAD,CAArC;AACA,QAAM,CAACe,YAAD,EAAcC,eAAd,IAAiChB,QAAQ,CAACa,OAAD,CAA/C;AACA,QAAM,CAAEI,EAAF,EAAMC,KAAN,IAAgBlB,QAAQ,CAAC,EAAD,CAA9B;AACI,QAAM,CAACmB,IAAD,EAAOC,OAAP,IAAkBpB,QAAQ,CAAC,KAAD,CAAhC;;AAEJ,QAAMqB,WAAW,GAAG,MAAMD,OAAO,CAAC,KAAD,CAAjC;;AACA,QAAME,UAAU,GAAG,MAAM;AACrBF,IAAAA,OAAO,CAAC,IAAD,CAAP;AACH,GAFD;;AAGAG,EAAAA,OAAO,CAACC,GAAR,CAAYX,OAAZ;;AAEA,WAASY,QAAT,GAAoB;AACpB,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,IAAI,CAACC,MAAzB,EAAiCF,CAAC,EAAlC,EAAsC,CAErC;AACA;;AAED,QAAMG,OAAO,GAAG5B,UAAU,CAACS,eAAD,CAA1B;;AAEA,QAAMoB,YAAY,GAAIC,KAAD,IAAU;AAC3B,QAAIC,KAAK,GAAGD,KAAK,CAACE,MAAN,CAAaD,KAAzB;AACA,QAAIE,MAAM,GAAG,EAAb;AACAX,IAAAA,OAAO,CAACC,GAAR,CAAYQ,KAAZ;AACAE,IAAAA,MAAM,GAAGrB,OAAO,CAACsB,MAAR,CAAgBC,IAAD,IAAU;AAChC,aAAOA,IAAI,CAACC,OAAL,CAAaC,SAAb,CAAuBC,MAAvB,CAA8BP,KAA9B,MAAyC,CAAC,CAAjD;AACD,KAFQ,CAAT;AAGAT,IAAAA,OAAO,CAACC,GAAR,CAAYU,MAAZ;;AACA,QAAIA,MAAM,CAACN,MAAP,GAAgB,CAApB,EAAuB;AACrB,UAAIY,cAAc,GAAE,EAApB;AACFA,MAAAA,cAAc,GAAG3B,OAAO,CAACsB,MAAR,CAAgBC,IAAD,IAAU;AACxC,eAAOA,IAAI,CAACC,OAAL,CAAaI,QAAb,CAAsBF,MAAtB,CAA6BP,KAA7B,MAAwC,CAAC,CAAhD;AACD,OAFgB,CAAjB;AAGAE,MAAAA,MAAM,GAAGM,cAAT;AACH;;AACG,QAAIN,MAAM,CAACN,MAAP,GAAgB,CAApB,EAAuB;AACnB,UAAIc,UAAU,GAAE,EAAhB;AACFA,MAAAA,UAAU,GAAG7B,OAAO,CAACsB,MAAR,CAAgBC,IAAD,IAAU;AACpC,eAAOA,IAAI,CAACC,OAAL,CAAaM,OAAb,CAAqBC,IAArB,CAA0BL,MAA1B,CAAiCP,KAAjC,MAA4C,CAAC,CAApD;AACD,OAFY,CAAb;AAGAE,MAAAA,MAAM,GAAGQ,UAAT;AAEL;;AACD,QAAIR,MAAM,CAACN,MAAP,GAAgB,CAApB,EAAuB;AACnB,UAAIiB,YAAY,GAAE,EAAlB;AACFA,MAAAA,YAAY,GAAGhC,OAAO,CAACsB,MAAR,CAAgBC,IAAD,IAAU;AACtC,eAAOA,IAAI,CAACC,OAAL,CAAaS,MAAb,CAAoBP,MAApB,CAA2BP,KAA3B,MAAsC,CAAC,CAA9C;AACD,OAFc,CAAf;AAGAE,MAAAA,MAAM,GAAGW,YAAT;AAEL;;AACG,QAAIX,MAAM,CAACN,MAAP,GAAgB,CAApB,EAAuB;AACrB,UAAImB,SAAS,GAAE,EAAf;AACFA,MAAAA,SAAS,GAAGlC,OAAO,CAACsB,MAAR,CAAgBC,IAAD,IAAU;AACnC,eAAOA,IAAI,CAACC,OAAL,CAAaM,OAAb,CAAqBK,GAArB,CAAyBC,QAAzB,GAAoCV,MAApC,CAA2CW,UAAU,CAAClB,KAAD,CAArD,MAAkE,CAAC,CAA1E;AACD,OAFW,CAAZ;AAGAE,MAAAA,MAAM,GAAGa,SAAT;AAEH;;AACD,QAAIb,MAAM,CAACN,MAAP,GAAgB,CAApB,EAAuB;AACrB,UAAIuB,QAAQ,GAAE,EAAd;AACFA,MAAAA,QAAQ,GAAGtC,OAAO,CAACsB,MAAR,CAAgBC,IAAD,IAAU;AAClC,eAAOA,IAAI,CAACgB,UAAL,CAAgBH,QAAhB,GAA2BV,MAA3B,CAAkCW,UAAU,CAAClB,KAAD,CAA5C,MAAyD,CAAC,CAAjE;AACD,OAFU,CAAX;AAGAE,MAAAA,MAAM,GAAGiB,QAAT;AAEC;;AAED,QAAIjB,MAAM,CAACN,MAAP,GAAgB,CAApB,EAAuB;AACrB,UAAIyB,WAAW,GAAE,EAAjB;AACFA,MAAAA,WAAW,GAAGxC,OAAO,CAACsB,MAAR,CAAgBC,IAAD,IAAU;AACrC,eAAOA,IAAI,CAACC,OAAL,CAAaiB,KAAb,CAAmBf,MAAnB,CAA0BP,KAA1B,MAAqC,CAAC,CAA7C;AACD,OAFa,CAAd;AAGAE,MAAAA,MAAM,GAAGmB,WAAT;AAEC;;AACD,QAAInB,MAAM,CAACN,MAAP,GAAgB,CAApB,EAAuB;AACnB,UAAI2B,WAAW,GAAE,EAAjB;AACFA,MAAAA,WAAW,GAAG1C,OAAO,CAACsB,MAAR,CAAgBC,IAAD,IAAU;AACrC,eAAOA,IAAI,CAACoB,KAAL,CAAWP,QAAX,GAAsBV,MAAtB,CAA6BW,UAAU,CAAClB,KAAD,CAAvC,MAAoD,CAAC,CAA5D;AACD,OAFa,CAAd;AAGAE,MAAAA,MAAM,GAAGqB,WAAT;AAEC;;AACD,QAAIrB,MAAM,CAACN,MAAP,GAAgB,CAApB,EAAuB;AACrB,UAAI6B,UAAU,GAAE,EAAhB;AACFA,MAAAA,UAAU,GAAG5C,OAAO,CAACsB,MAAR,CAAgBC,IAAD,IAAU;AACpC,eAAOA,IAAI,CAACsB,IAAL,CAAUnB,MAAV,CAAiBP,KAAjB,MAA4B,CAAC,CAApC;AACD,OAFY,CAAb;AAGAE,MAAAA,MAAM,GAAGuB,UAAT;AACD;;AACOlC,IAAAA,OAAO,CAACC,GAAR,CAAYU,MAAZ,EAvE2B,CAwE3B;;AACAlB,IAAAA,eAAe,CAACkB,MAAD,CAAf;AACAL,IAAAA,OAAO,CAAC8B,UAAR,CAAmBzB,MAAnB;AACD,GA3EH;;AA6EAnC,EAAAA,SAAS,CAAC,MAAM;AACZwB,IAAAA,OAAO,CAACC,GAAR;AACArB,IAAAA,GAAG,CAACyD,OAAJ,GACCC,IADD,CACMC,GAAG,IAAI;AACXvC,MAAAA,OAAO,CAACC,GAAR,CAAYsC,GAAG,CAAC1B,IAAhB;AACAtB,MAAAA,UAAU,CAACgD,GAAG,CAAC1B,IAAL,CAAV;AACApB,MAAAA,eAAe,CAAC8C,GAAG,CAAC1B,IAAL,CAAf;AAEAb,MAAAA,OAAO,CAACC,GAAR,CAAYX,OAAZ;AACD,KAPD,EAQCkD,KARD,CAQOC,KAAK,IAAI;AACdzC,MAAAA,OAAO,CAACC,GAAR,CAAY,8BAA8BwC,KAA1C;AACC,KAVH;AAYD,GAdM,EAcJ,EAdI,CAAT;AAeEzC,EAAAA,OAAO,CAACC,GAAR,CAAYX,OAAZ;AACAU,EAAAA,OAAO,CAACC,GAAR,CAAYT,YAAZ;;AAEJ,WAASkD,WAAT,CAAqBC,CAArB,EAAwB;AACtBA,IAAAA,CAAC,CAACC,cAAF;AACH;;AAEDpE,EAAAA,SAAS,CAAC,MAAM;AACV,QAAIqE,WAAW,GAAE,EAAjB;AACFA,IAAAA,WAAW,GAAGvD,OAAO,CAACsB,MAAR,CAAgBC,IAAD,IAAU;AACzC,aAAOA,IAAI,CAACiC,GAAL,CAAS9B,MAAT,CAAgBtB,EAAhB,MAAwB,CAAC,CAAhC;AACD,KAFiB,CAAd;AAGJY,IAAAA,OAAO,CAACyC,WAAR,CAAoBF,WAApB;AACE,GANO,EAML,CAACnD,EAAD,CANK,CAAT,CAvHqB,CA+HrB;;AAEM,WAASsD,QAAT,CAAkBL,CAAlB,EAAqB;AACnB/D,IAAAA,GAAG,CAACqE,aAAJ;AACH;;AAOD,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACR,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,KAAN;AAAY,IAAA,SAAS,EAAC,gBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGE,oBAAC,IAAD,CAAM,OAAN;AAAc,IAAA,IAAI,EAAC,MAAnB;AAA0B,IAAA,WAAW,EAAC,QAAtC;AACA,IAAA,QAAQ,EAAGzC,KAAD,IAAUD,YAAY,CAACC,KAAD,CADhC,CAEA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,CADF,CADA,eAYE,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,SAAhB;AAA0B,IAAA,IAAI,EAAC,QAA/B;AAAwC,IAAA,OAAO,EAAEkC,WAAjD;AAA8D,IAAA,KAAK,MAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADA,CAZF,CADQ,CADA,EAsBPlD,YAAY,CAACa,MAAb,GAAsB,CAAtB,gBAED,oBAAC,KAAD;AAAO,IAAA,OAAO,MAAd;AAAe,IAAA,QAAQ,MAAvB;AAAwB,IAAA,KAAK,MAA7B;AAA8B,IAAA,IAAI,EAAC,IAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADA,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAJF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WANF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPF,eAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aARF,CADF,CADF,eAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKb,YAAY,CAAC0D,GAAb,CAAkBrC,IAAD,IAAS;AACb,wBACR;AAEA,MAAA,GAAG,EAAEA,IAAI,CAACiC,GAFV,CAGA;AAHA;AAIA,MAAA,KAAK,EAAEjC,IAAI,CAACiC,GAJZ;AAKA,MAAA,OAAO,EAAGH,CAAD,IAAOhD,KAAK,CAACkB,IAAI,CAACiC,GAAN,CALrB;AAMA,MAAA,KAAK,EAAE;AAACK,QAAAA,MAAM,EAAC;AAAR,OANP,CAOA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKtC,IAAI,CAACoB,KAAV,CAVA,eAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKpB,IAAI,CAACC,OAAL,CAAae,UAAlB,CAXA,eAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKhB,IAAI,CAACC,OAAL,CAAaI,QAAlB,QAA8BL,IAAI,CAACC,OAAL,CAAaC,SAA3C,CAZA,eAaA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKF,IAAI,CAACC,OAAL,CAAaS,MAAlB,CAbA,eAcA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKV,IAAI,CAACsB,IAAV,CAdA,eAiBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAJ,CAjBC,CADQ,CAgCV;AACN;AACA;AACA;AACA;AApCgB;AAsCb,GAvCA,CADL,CAdF,CAFC,gBA4DD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CADA,CAlFQ,CADJ;AAyFH;;AAED,eAAe9C,SAAf","sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport Table from 'react-bootstrap/Table'\nimport api from  '../../utils/api'\nimport { Form, Col, Row, Button, Accordion, Card } from 'react-bootstrap';\nimport { CurrCustContext } from '../../utils/currentCustomerContext';\nimport InfoCanvas from '../CustCanvas';\n\n\nfunction JobsTable() {\n    const [allData,setAllData] = useState([]);\n    const [filteredData,setFilteredData] = useState(allData);\n    const [ ID, setID ] = useState(\"\")\n        const [show, setShow] = useState(false);\n  \n    const handleClose = () => setShow(false);\n    const handleShow = () => {\n        setShow(true);\n    }\n    console.log(allData)\n\n    function sendJobs() {\n    for (let i = 0; i < jobs.length; i++) {\n\n    }\n    }\n\n    const context = useContext(CurrCustContext)\n\n    const handleSearch = (event) =>{\n        let value = event.target.value;\n        let result = [];\n        console.log(value)\n        result = allData.filter((data) => {\n          return data.curr_id.firstName.search(value) !== -1;\n        });\n        console.log(result)\n        if (result.length < 1) {\n          let lastNameResult =[];\n        lastNameResult = allData.filter((data) => {\n          return data.curr_id.lastName.search(value) !== -1;\n        });\n        result = lastNameResult;\n    }\n        if (result.length < 1) {\n            let cityResult =[];\n          cityResult = allData.filter((data) => {\n            return data.curr_id.address.city.search(value) !== -1;\n          });\n          result = cityResult;\n  \n    }\n    if (result.length < 1) {\n        let countyResult =[];\n      countyResult = allData.filter((data) => {\n        return data.curr_id.county.search(value) !== -1;\n      });\n      result = countyResult;\n\n}\n    if (result.length < 1) {\n      let zipResult =[];\n    zipResult = allData.filter((data) => {\n      return data.curr_id.address.zip.toString().search(parseFloat(value)) !== -1;\n    });\n    result = zipResult;\n\n}\nif (result.length < 1) {\n  let idResult =[];\nidResult = allData.filter((data) => {\n  return data.customerID.toString().search(parseFloat(value)) !== -1;\n});\nresult = idResult;\n\n}\n\nif (result.length < 1) {\n  let emailResult =[];\nemailResult = allData.filter((data) => {\n  return data.curr_id.email.search(value) !== -1;\n});\nresult = emailResult;\n\n}\nif (result.length < 1) {\n    let jobIDResult =[];\n  jobIDResult = allData.filter((data) => {\n    return data.jobID.toString().search(parseFloat(value)) !== -1;\n  });\n  result = jobIDResult;\n  \n  }\n  if (result.length < 1) {\n    let dateResult =[];\n  dateResult = allData.filter((data) => {\n    return data.date.search(value) !== -1;\n  });\n  result = dateResult;\n}\n        console.log(result)\n        // }\n        setFilteredData(result);\n        context.setCurrJob(result)\n      }\n    \n    useEffect(() => {\n        console.log()\n        api.getJobs()\n        .then(res => {\n          console.log(res.data)\n          setAllData(res.data);\n          setFilteredData(res.data);\n\n          console.log(allData)\n        })\n        .catch(error => {\n          console.log('Error getting fake data: ' + error);\n          })\n      \n      }, []);\n      console.log(allData)\n      console.log(filteredData)\n\n  function handleClick(e) {\n    e.preventDefault();\n}\n\nuseEffect(() => {\n      let customer_id =[];\n    customer_id = allData.filter((data) => {\n  return data._id.search(ID) !== -1;\n});      \ncontext.setCurrCust(customer_id)\n }, [ID])\n\n//  console.log(this._id);\n\n      function onDelete(e) {\n        api.deleteProduct()\n    }\n\n   \n\n\n\n\n    return ( \n        <div>\n        <Form>\n<Row>\n<Col lg={11}>\n  <Form.Group controlId=\"formBasicEmail\">\n  \n    \n    <Form.Control type=\"name\" placeholder=\"Search\"\n    onChange={(event) =>handleSearch(event)}\n    // onChange={(e) => setSearch(e.target.value)} value={search} \n    />\n    \n    </Form.Group>\n    </Col>\n  <Col lg={1}>\n  <Button variant=\"primary\" type=\"submit\" onClick={handleClick} block>\n    Search\n  </Button>\n  </Col>\n  </Row>\n</Form>\n\n{filteredData.length > 0 ? \n\n<Table striped bordered hover size=\"sm\">\n  <thead>\n    <tr>\n    <th>JobID</th>\n\n      <th>Customer ID</th>\n      <th>Customer Name</th>\n      <th>County</th>\n      <th>Day</th>\n      <th>Products</th>\n      <th>Total</th>\n\n    </tr>\n  </thead>\n  <tbody>\n      {filteredData.map((data)=> {\n                    return (\n            <tr \n            \n            key={data._id}  \n            // onLoad={setID(data._id)} \n            value={data._id}\n            onClick={(e) => setID(data._id)}\n            style={{cursor:\"pointer\"}}\n            // onClick={handleRowClick}\n            >\n          {/* {(e) => alert(data._id)} >  */}\n            <td>{data.jobID}</td>\n            <td>{data.curr_id.customerID}</td>\n            <td>{data.curr_id.lastName}, {data.curr_id.firstName}</td>\n            <td>{data.curr_id.county}</td>\n            <td>{data.date}</td>\n            {/* <td>{data.serviceList[0].type}</td>\n            <td>{data.serviceList[0].total}</td> */}\n           <td><InfoCanvas />\n</td>\n            {/* <td>{data.jobs[0].jobID}</td> */}\n            {/* <td> \n               <UpdateModal  />\n            <Button onClick={onDelete} style={{marginLeft: \"10px\"}} size=\"sm\" variant=\"danger\">Delete</Button>\n            </td> */}\n            {/* {context.currCust.length == 1 ?\n  <td >               <UpdateModal/>\n            <Button onClick={onDelete} style={{marginLeft: \"10px\"}} size=\"sm\" variant=\"danger\">Delete</Button>\n</td> : <td></td>\n} */}\n\n          </tr>\n          // </tr>\n    //       {/* </Accordion.Header>\n    //       </Accordion.Item>\n    //       </Accordion> */}\n    // //   : <tr></tr>\n          ) \n      })}\n  </tbody>\n</Table>  \n:\n<div>\n<p>Please register this new customer.</p>\n</div>\n}\n</div>\n    )\n}\n\nexport default JobsTable;"]},"metadata":{},"sourceType":"module"}